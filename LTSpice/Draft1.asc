Version 4
SHEET 1 2312 988
WIRE 1696 -464 1616 -464
WIRE 1616 -384 1616 -464
WIRE 1792 -384 1760 -384
WIRE 1360 -352 1168 -352
WIRE 1616 -352 1440 -352
WIRE 1792 -352 1760 -352
WIRE 1616 -320 1584 -320
WIRE 1808 -320 1760 -320
WIRE 1888 -320 1808 -320
WIRE 1616 -288 1584 -288
WIRE -288 -256 -480 -256
WIRE -208 -256 -288 -256
WIRE -128 -256 -208 -256
WIRE 176 -256 128 -256
WIRE 256 -256 176 -256
WIRE 384 -256 256 -256
WIRE 1168 -112 1168 -352
WIRE 1168 -112 1024 -112
WIRE 1184 -112 1168 -112
WIRE 704 -80 560 -80
WIRE 416 -32 416 -112
WIRE 560 -32 560 -80
WIRE 1184 16 1184 -112
WIRE 1232 16 1184 16
WIRE 416 48 416 -32
WIRE 464 48 464 -32
WIRE 464 48 416 48
WIRE 512 48 464 48
WIRE 624 64 560 64
WIRE -64 80 -288 80
WIRE 1232 80 1184 80
WIRE 1600 96 1600 -32
WIRE 1024 112 992 112
WIRE 1088 112 1024 112
WIRE 1104 112 1088 112
WIRE 1232 112 1184 112
WIRE 416 128 416 48
WIRE 1600 160 1600 96
WIRE 1712 160 1600 160
WIRE 704 176 704 -80
WIRE 1088 176 1088 112
WIRE 416 224 416 128
WIRE 560 224 560 144
WIRE 1600 224 1600 160
WIRE 560 256 560 224
WIRE 624 256 560 256
WIRE 656 256 624 256
WIRE -192 272 -192 192
WIRE 912 272 704 272
WIRE 416 304 416 224
WIRE 560 304 560 256
WIRE 624 320 624 256
WIRE -192 352 -192 272
WIRE 1600 352 1600 224
WIRE 416 384 416 304
WIRE 560 384 560 304
WIRE -192 432 -192 352
WIRE 416 464 416 384
WIRE -192 528 -192 432
WIRE 496 544 496 528
WIRE -192 608 -192 528
WIRE 496 608 496 544
WIRE 496 672 496 608
WIRE 592 672 496 672
WIRE -192 688 -192 608
WIRE 496 688 496 672
WIRE -192 720 -192 688
WIRE -160 720 -192 720
WIRE 496 736 496 688
WIRE -192 768 -192 720
WIRE 496 768 496 736
FLAG -288 160 0
FLAG -64 48 0
FLAG -288 -192 0
FLAG -208 -192 0
FLAG 0 -160 0
FLAG 176 -192 0
FLAG 256 -192 0
FLAG -480 -176 0
FLAG 384 -256 VCC
FLAG 64 240 VCC
FLAG 64 272 0
FLAG -48 416 Q1
FLAG -48 448 Q2
FLAG -48 480 Q3
FLAG -48 512 Q4
FLAG -48 544 Q5
FLAG -48 576 Q6
FLAG 0 400 Q7
FLAG 0 432 Q8
FLAG 352 224 Q9
FLAG 0 496 Q10
FLAG 0 528 Q11
FLAG 0 560 Q12
FLAG 496 144 Q1
FLAG 496 224 Q2
FLAG 496 304 Q3
FLAG 496 384 Q8
FLAG 352 -112 Q4
FLAG 352 -32 Q5
FLAG 352 48 Q6
FLAG 352 128 Q7
FLAG 0 464 Q9
FLAG 352 304 Q10
FLAG 352 384 Q11
FLAG 352 464 Q12
FLAG -192 528 Q9
FLAG -192 272 Q5
FLAG -192 352 Q6
FLAG -192 432 Q7
FLAG -192 608 Q10
FLAG -192 688 Q11
FLAG -192 768 Q12
FLAG -160 720 0
FLAG 496 544 Q1
FLAG 496 608 Q2
FLAG 496 688 Q3
FLAG 496 768 Q8
FLAG 592 672 VCC
FLAG 496 736 Q4
FLAG 464 -112 0
FLAG 624 400 VCC
FLAG 624 144 0
FLAG 624 -16 VCC
FLAG 704 352 0
FLAG 1024 -32 0
FLAG 1104 80 VCC
FLAG 1232 176 sq1
FLAG 1232 208 sq2
FLAG 1376 16 sq3
FLAG 1376 48 sq4
FLAG 1232 144 sq0
FLAG 1536 -32 sq1
FLAG 1536 96 sq2
FLAG 1536 224 sq3
FLAG 1536 352 sq4
FLAG 1376 176 VCC
FLAG 1376 208 0
FLAG 960 112 LOAD
FLAG 1536 -384 0
FLAG 1888 -320 VCC
FLAG 1760 -288 0
FLAG 1808 -256 0
FLAG 1888 -256 0
FLAG 1584 -288 LOAD
FLAG 1712 160 RESET
FLAG 1696 -464 RESET
FLAG 1088 240 sq4
FLAG 1232 48 VCC
FLAG 1552 -464 0
SYMBOL CD4040B 0 160 R0
WINDOW 39 0 160 Invisible 2
SYMATTR InstName U1
SYMATTR Value2 vdd=5 speed=1 tripdt=5n
SYMBOL voltage -288 64 R0
WINDOW 3 -54 200 VLeft 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL PowerProducts\\LT1086-5 0 -256 R0
SYMATTR InstName U2
SYMBOL cap -224 -256 R0
SYMATTR InstName C1
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.025 Lser=800p mfg="Würth Elektronik" pn="885012206071 WCAP-CSGP 0603" type="X7R"
SYMBOL cap -304 -256 R0
SYMATTR InstName C3
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM21BR61E106KA73" type="X5R"
SYMBOL cap 240 -256 R0
SYMATTR InstName C2
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.025 Lser=800p mfg="Würth Elektronik" pn="885012206071 WCAP-CSGP 0603" type="X7R"
SYMBOL cap 160 -256 R0
SYMATTR InstName C4
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM21BR61E106KA73" type="X5R"
SYMBOL voltage -480 -272 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 44 Left 2
SYMATTR InstName V2
SYMATTR Value 8.4
SYMATTR SpiceLine Rser=0.150
SYMBOL pmos 512 -32 R0
WINDOW 3 -9 13 VRight 2
SYMATTR InstName M1
SYMATTR Value AO6407
SYMBOL diode 560 128 R90
WINDOW 0 0 32 Invisible 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 560 208 R90
WINDOW 0 0 32 Invisible 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode 560 288 R90
WINDOW 0 0 32 Invisible 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode 560 368 R90
WINDOW 0 0 32 Invisible 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL diode 352 -96 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL diode 352 -16 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL diode 352 64 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D7
SYMATTR Value 1N4148
SYMBOL diode 352 144 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D8
SYMATTR Value 1N4148
SYMBOL diode 352 240 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D9
SYMATTR Value 1N4148
SYMBOL diode 352 320 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D10
SYMATTR Value 1N4148
SYMBOL diode 352 400 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D11
SYMATTR Value 1N4148
SYMBOL diode 352 480 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D12
SYMATTR Value 1N4148
SYMBOL nmos 656 176 R0
SYMATTR InstName M2
SYMATTR Value AO6408
SYMBOL res 688 256 R0
SYMATTR InstName R3
SYMATTR Value 10K
SYMATTR SpiceLine tol=1 pwr=0.25
SYMBOL res 448 -128 R0
SYMATTR InstName R4
SYMATTR Value 100K
SYMATTR SpiceLine tol=1 pwr=0.25
SYMBOL res 608 304 R0
SYMATTR InstName R5
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.25
SYMBOL res 608 -32 R0
SYMATTR InstName R1
SYMATTR Value 1K
SYMATTR SpiceLine tol=1 pwr=0.25
SYMBOL res 608 48 R0
SYMATTR InstName R2
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.25
SYMBOL 74HC164 1296 112 R0
WINDOW 39 8 144 Invisible 2
SYMATTR InstName U3
SYMATTR Value2 vcc=5 speed=1 tripdt=5n
SYMBOL voltage 1024 -128 R0
WINDOW 3 -205 131 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 5 0 1n 1n 0.1 0.2)
SYMBOL res 1200 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -49 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 4.7K
SYMBOL diode 1536 -16 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D13
SYMATTR Value 1N4148
SYMBOL diode 1536 112 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D14
SYMATTR Value 1N4148
SYMBOL diode 1536 240 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D15
SYMATTR Value 1N4148
SYMBOL diode 1536 368 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D16
SYMATTR Value 1N4148
SYMBOL 74HC393 1680 -336 R0
WINDOW 39 8 96 Invisible 2
SYMATTR InstName U4
SYMATTR Value2 vcc=5 speed=1 tripdt=5n
SYMBOL res 1456 -368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 4.7K
SYMBOL cap 1872 -320 R0
WINDOW 0 36 31 Left 2
SYMATTR InstName C6
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.025 Lser=800p mfg="Würth Elektronik" pn="885012206071 WCAP-CSGP 0603" type="X7R"
SYMBOL cap 1792 -320 R0
WINDOW 0 36 31 Left 2
SYMATTR InstName C7
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM21BR61E106KA73" type="X5R"
SYMBOL res 1632 -400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 10K
SYMBOL diode 960 128 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D19
SYMATTR Value 1N4148
SYMBOL cap 1616 -480 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.025 Lser=800p mfg="Würth Elektronik" pn="885012206071 WCAP-CSGP 0603" type="X7R"
SYMBOL res 1200 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 4.7K
SYMBOL diode 1104 240 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D17
SYMATTR Value 1N4148
SYMBOL ULN2003 2224 0 R0
SYMATTR InstName U5
TEXT -920 168 Left 2 !.tran 0 5 0 1 uic\n \n.options reltol=0.01 abstol=1n chgtol=1p\n.options gmin=1n cshunt=1p\n.options itl1=500 itl2=5000 itl4=100\n \n.include cd4000.lib\n.include 74hc.lib
