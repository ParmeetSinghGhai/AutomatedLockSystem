Version 4
SHEET 1 3252 2312
WIRE -1248 -1328 -1440 -1328
WIRE -1168 -1328 -1248 -1328
WIRE -1088 -1328 -1168 -1328
WIRE -784 -1328 -832 -1328
WIRE -704 -1328 -784 -1328
WIRE -576 -1328 -704 -1328
WIRE -1392 -448 -2288 -448
WIRE -1872 -304 -1872 -384
WIRE -1872 -224 -1872 -304
WIRE -2288 -208 -2288 -448
WIRE -640 -208 -704 -208
WIRE -2480 -176 -2544 -176
WIRE -2288 -176 -2400 -176
WIRE -1872 -144 -1872 -224
WIRE -704 -128 -704 -208
WIRE -640 -128 -704 -128
WIRE -1728 -96 -1728 -240
WIRE -1712 -96 -1728 -96
WIRE 1984 -96 1728 -96
WIRE -1872 -64 -1872 -144
WIRE -1792 -64 -1872 -64
WIRE -1872 -48 -1872 -64
WIRE -1616 -48 -1648 -48
WIRE -704 -48 -704 -128
WIRE -640 -48 -704 -48
WIRE -2080 -16 -2160 -16
WIRE 1728 -16 1728 -32
WIRE 1776 -16 1728 -16
WIRE 1776 16 1728 16
WIRE -1872 32 -1872 -48
WIRE -704 32 -704 -48
WIRE -640 32 -704 32
WIRE 1584 32 1520 32
WIRE 1776 48 1728 48
WIRE -2080 64 -2080 -16
WIRE -2080 64 -2128 64
WIRE -2048 64 -2080 64
WIRE 1072 64 1072 -16
WIRE 1104 64 1072 64
WIRE 1232 64 1168 64
WIRE 1392 64 1232 64
WIRE 1488 64 1392 64
WIRE 1584 64 1488 64
WIRE 1232 80 1232 64
WIRE 1808 80 1728 80
WIRE 1888 80 1808 80
WIRE -1872 112 -1872 32
WIRE -704 112 -704 32
WIRE -640 112 -704 112
WIRE -704 128 -704 112
WIRE 1488 128 1488 64
WIRE 1072 160 1072 64
WIRE 2176 160 2160 160
WIRE 2240 160 2176 160
WIRE -1872 192 -1872 112
WIRE 2176 192 2160 192
WIRE 2240 192 2176 192
WIRE 2176 224 2160 224
WIRE 2240 224 2176 224
WIRE 2176 256 2160 256
WIRE 2240 256 2176 256
WIRE 2480 256 2400 256
WIRE 2496 256 2480 256
WIRE -1616 272 -1616 -48
WIRE -1536 272 -1536 208
WIRE -1536 272 -1616 272
WIRE -1392 272 -1392 -448
WIRE -1392 272 -1536 272
WIRE 1984 288 1984 -96
WIRE 2240 288 1984 288
WIRE 2240 320 2144 320
WIRE 2480 336 2480 256
WIRE 2528 336 2480 336
WIRE -2400 352 -2400 288
WIRE 2240 352 2192 352
WIRE 1984 368 1984 288
WIRE 1984 368 1728 368
WIRE -688 384 -1104 384
WIRE -1104 432 -1104 384
WIRE -1056 432 -1104 432
WIRE 1776 432 1728 432
WIRE 2144 432 2144 320
WIRE -1392 464 -1392 272
WIRE -1056 464 -1392 464
WIRE 1776 464 1728 464
WIRE 1584 480 1520 480
WIRE 1776 496 1728 496
WIRE 2192 496 2192 352
WIRE 1088 512 1072 512
WIRE 1584 512 1088 512
WIRE -1136 528 -1264 528
WIRE 1808 528 1728 528
WIRE 1888 528 1808 528
WIRE 1072 544 1072 512
WIRE 2144 544 2144 432
WIRE -2016 560 -2016 528
WIRE -2016 560 -2064 560
WIRE -1936 560 -2016 560
WIRE -1872 560 -1872 528
WIRE -1712 560 -1872 560
WIRE -1136 560 -1136 528
WIRE -1136 560 -1152 560
WIRE -1056 560 -1136 560
WIRE 2192 560 2192 496
WIRE 2416 560 2192 560
WIRE 2928 560 2928 480
WIRE 2192 576 2192 560
WIRE -1712 592 -1728 592
WIRE -1616 608 -1616 272
WIRE -1616 608 -1648 608
WIRE -864 624 -928 624
WIRE -784 624 -864 624
WIRE 2368 624 2288 624
WIRE 2368 640 2368 624
WIRE 2928 640 2928 560
WIRE -1872 656 -1872 560
WIRE -1728 688 -1728 592
WIRE -1104 688 -1104 656
WIRE 2928 720 2928 640
WIRE -1872 752 -1872 656
WIRE 2288 752 2288 624
WIRE 2368 752 2288 752
WIRE 2480 752 2368 752
WIRE 2928 800 2928 720
WIRE -1104 816 -1104 768
WIRE -688 816 -688 384
WIRE -688 816 -1104 816
WIRE 2368 832 2368 752
WIRE -1872 848 -1872 752
WIRE 2368 928 2368 896
WIRE 2448 928 2368 928
WIRE 1168 976 1168 912
WIRE 1488 992 1488 896
WIRE 1872 992 1872 896
FLAG -1248 -1264 0
FLAG -1168 -1264 0
FLAG -960 -1232 0
FLAG -784 -1264 0
FLAG -704 -1264 0
FLAG -1440 -1248 0
FLAG -576 -1328 VCC
FLAG -2160 16 0
FLAG -1936 -384 Q4
FLAG -1936 -304 Q5
FLAG -2288 -144 Q1
FLAG -2288 -112 Q2
FLAG -2288 -80 Q3
FLAG -2288 -48 Q4
FLAG -2288 -16 Q5
FLAG -2288 16 Q6
FLAG -2160 -208 Q7
FLAG -2160 -176 Q8
FLAG -2160 -144 Q9
FLAG -2160 -112 Q10
FLAG -2160 -80 Q11
FLAG -2160 -48 Q12
FLAG 1440 1056 0
FLAG -2064 560 Q1
FLAG -1936 656 Q2
FLAG -1936 752 Q3
FLAG -1936 848 Q6
FLAG -1936 -224 Q7
FLAG -1936 -144 Q8
FLAG -1936 -48 Q9
FLAG -1936 32 Q10
FLAG -1936 112 Q11
FLAG -1936 192 Q12
FLAG 1488 1040 0
FLAG -2544 -96 0
FLAG -2400 208 VCC
FLAG -1872 448 VCC
FLAG -2048 64 VCC
FLAG -2128 128 0
FLAG -2048 128 0
FLAG -864 688 0
FLAG -784 688 0
FLAG -928 656 0
FLAG -2016 384 VCC
FLAG -1056 496 C0
FLAG -1056 528 C1
FLAG -1056 592 C3
FLAG -1056 624 C4
FLAG -784 624 VCC
FLAG 1808 144 0
FLAG 1888 144 0
FLAG 1888 80 VCC
FLAG 1728 112 0
FLAG 1840 -16 L2
FLAG 1840 48 L4
FLAG 1808 592 0
FLAG 1888 592 0
FLAG 1888 528 VCC
FLAG 1728 560 0
FLAG 1840 432 M2
FLAG 1840 464 M3
FLAG 1840 496 M4
FLAG 1840 16 L3
FLAG 2240 384 0
FLAG 1168 1056 0
FLAG 1168 912 MOTOR_CLOCK
FLAG 2928 800 VCC
FLAG 2160 160 L1
FLAG 2160 192 L2
FLAG 2160 224 L3
FLAG 2160 256 L4
FLAG 2176 160 M4
FLAG 2176 192 M3
FLAG 2176 224 M2
FLAG 2176 256 M1
FLAG -1152 560 C2
FLAG -2320 288 0
FLAG -1648 -112 VCC
FLAG -1648 -80 0
FLAG -1648 544 VCC
FLAG -1648 576 0
FLAG -1536 128 VCC
FLAG -1392 272 HourClock
FLAG -496 -208 C0
FLAG -496 -128 C1
FLAG -496 -48 C2
FLAG -496 32 C3
FLAG -496 112 C4
FLAG -1104 656 C3
FLAG -2400 352 REF2.5
FLAG -1728 -240 REF2.5
FLAG -1728 688 REF2.5
FLAG 1568 992 0
FLAG -1264 528 R_SIGNAL
FLAG -704 128 0
FLAG 2848 480 ULNC1
FLAG 2848 560 ULNC2
FLAG 2848 640 ULNC3
FLAG 2848 720 ULNC4
FLAG 2400 384 ULNC4
FLAG 2400 352 ULNC3
FLAG 2400 320 ULNC2
FLAG 2400 288 ULNC1
FLAG 928 208 VCC
FLAG 928 288 LOAD
FLAG 2528 336 LOAD
FLAG 1584 0 LOAD
FLAG 1584 448 LOAD
FLAG 1440 32 MOTOR_CLOCK
FLAG 1440 480 MOTOR_CLOCK
FLAG 1520 96 L1
FLAG 1520 544 M1
FLAG 1088 432 VCC
FLAG 1072 544 R_RESET
FLAG 2400 224 R_RESET
FLAG 2064 432 R
FLAG 2144 544 PHOTO_R_CONN
FLAG 1488 128 F_RESET
FLAG 1072 -96 VCC
FLAG 1232 224 R
FLAG 2400 192 F_RESETA
FLAG 2272 496 VCC
FLAG 2192 576 PHOTO_F_CONN
FLAG 1440 976 PHOTO_R_CONN
FLAG 1824 1056 0
FLAG 1872 1040 0
FLAG 1952 992 0
FLAG 1824 976 PHOTO_F_CONN
FLAG 2192 992 0
FLAG 2112 992 R
FLAG 1872 896 photo_f_v
FLAG 1488 896 photo_r_v
FLAG 1072 160 F_RESETA
FLAG 2544 752 0
FLAG 2448 1008 0
FLAG 2576 256 VCC
FLAG 1392 144 0
FLAG 2416 656 0
FLAG 2368 672 0
SYMBOL CD4040B -2224 -96 R0
WINDOW 39 0 160 Invisible 2
SYMATTR InstName U1
SYMATTR Value2 vdd=5 speed=1 tripdt=5n
SYMBOL PowerProducts\\LT1086-5 -960 -1328 R0
SYMATTR InstName U2
SYMBOL cap -1184 -1328 R0
SYMATTR InstName C1
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.025 Lser=800p mfg="Würth Elektronik" pn="885012206071 WCAP-CSGP 0603" type="X7R"
SYMBOL cap -1264 -1328 R0
SYMATTR InstName C3
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM21BR61E106KA73" type="X5R"
SYMBOL cap -720 -1328 R0
SYMATTR InstName C2
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.025 Lser=800p mfg="Würth Elektronik" pn="885012206071 WCAP-CSGP 0603" type="X7R"
SYMBOL cap -800 -1328 R0
SYMATTR InstName C4
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM21BR61E106KA73" type="X5R"
SYMBOL voltage -1440 -1344 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 44 Left 2
SYMATTR SpiceLine Rser=0.150
SYMATTR InstName V2
SYMATTR Value 8.4
SYMBOL diode -1936 -368 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL diode -1936 -288 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL diode -1936 -208 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D7
SYMATTR Value 1N4148
SYMBOL diode -1936 -128 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D8
SYMATTR Value 1N4148
SYMBOL diode -1936 -32 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D9
SYMATTR Value 1N4148
SYMBOL diode -1936 48 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D10
SYMATTR Value 1N4148
SYMBOL diode -1936 128 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D11
SYMATTR Value 1N4148
SYMBOL diode -1936 208 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D12
SYMATTR Value 1N4148
SYMBOL res -2384 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 4.7K
SYMBOL ULN2003 2320 272 R0
SYMATTR InstName U5
SYMBOL sw 1440 1072 R180
WINDOW 3 46 49 Left 2
WINDOW 0 -65 -26 Left 2
SYMATTR Value switch
SYMATTR InstName SW
SYMBOL voltage -2544 -192 R0
WINDOW 3 -157 146 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 0 1n 1n 0.5 1)
SYMATTR InstName V3
SYMBOL res -2384 304 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 4.7K
SYMBOL diode -1872 544 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode -1872 640 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL diode -1872 736 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D13
SYMATTR Value 1N4148
SYMBOL diode -1872 832 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D14
SYMATTR Value 1N4148
SYMBOL res -1856 544 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 4.7K
SYMBOL res -1520 224 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R15
SYMATTR Value 4.7K
SYMBOL CD4040B -992 544 R0
WINDOW 39 0 160 Invisible 2
SYMATTR InstName U7
SYMATTR Value2 vdd=5 speed=1 tripdt=5n
SYMBOL cap -2064 64 R0
WINDOW 0 36 31 Left 2
SYMATTR InstName C5
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.025 Lser=800p mfg="Würth Elektronik" pn="885012206071 WCAP-CSGP 0603" type="X7R"
SYMBOL cap -2144 64 R0
WINDOW 0 36 31 Left 2
SYMATTR InstName C9
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM21BR61E106KA73" type="X5R"
SYMBOL cap -800 624 R0
WINDOW 0 36 31 Left 2
SYMATTR InstName C10
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.025 Lser=800p mfg="Würth Elektronik" pn="885012206071 WCAP-CSGP 0603" type="X7R"
SYMBOL cap -880 624 R0
WINDOW 0 36 31 Left 2
SYMATTR InstName C12
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM21BR61E106KA73" type="X5R"
SYMBOL res -1088 784 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 4.7K
SYMBOL res -2000 480 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R19
SYMATTR Value 4.7K
SYMBOL LED -2032 464 R0
WINDOW 0 -223 -1 Left 2
WINDOW 3 -136 34 Left 2
SYMATTR InstName SECOND_SIGNAL
SYMATTR Value AOT-2015
SYMBOL CD4015B 1648 48 R0
WINDOW 39 8 112 Invisible 2
WINDOW 0 -49 -101 Bottom 2
SYMATTR InstName FORWARD_CTRL
SYMATTR Value2 vdd=5 speed=1 tripdt=5n
SYMBOL cap 1872 80 R0
WINDOW 0 36 31 Left 2
SYMATTR InstName C6
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.025 Lser=800p mfg="Würth Elektronik" pn="885012206071 WCAP-CSGP 0603" type="X7R"
SYMBOL cap 1792 80 R0
WINDOW 0 36 31 Left 2
SYMATTR InstName C7
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM21BR61E106KA73" type="X5R"
SYMBOL CD4015B 1648 496 R0
WINDOW 39 8 112 Invisible 2
WINDOW 0 -36 -94 Bottom 2
SYMATTR InstName REVERSE_CTRL
SYMATTR Value2 vdd=5 speed=1 tripdt=5n
SYMBOL cap 1872 528 R0
WINDOW 0 36 31 Left 2
SYMATTR InstName C8
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.025 Lser=800p mfg="Würth Elektronik" pn="885012206071 WCAP-CSGP 0603" type="X7R"
SYMBOL cap 1792 528 R0
WINDOW 0 36 31 Left 2
SYMATTR InstName C13
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0 Lser=0 mfg="Murata" pn="GRM21BR61E106KA73" type="X5R"
SYMBOL diode 1776 0 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D21
SYMATTR Value 1N4148
SYMBOL diode 1776 32 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D22
SYMATTR Value 1N4148
SYMBOL diode 1776 64 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D23
SYMATTR Value 1N4148
SYMBOL diode 1776 448 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D24
SYMATTR Value 1N4148
SYMBOL diode 1776 480 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D25
SYMATTR Value 1N4148
SYMBOL diode 1776 512 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D26
SYMATTR Value 1N4148
SYMBOL voltage 1168 960 R0
WINDOW 3 -157 146 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 0 1n 1n 0.1 0.2)
SYMATTR InstName V1
SYMBOL res 2944 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName MOTOR1
SYMATTR Value 100
SYMBOL res 2944 624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName MOTOR2
SYMATTR Value 100
SYMBOL res 2944 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName MOTOR3
SYMATTR Value 100
SYMBOL res 2944 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName MOTOR4
SYMATTR Value 100
SYMBOL diode 1744 -32 R180
WINDOW 0 24 64 Invisible 2
WINDOW 3 24 0 Invisible 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode 1744 432 R180
WINDOW 0 24 64 Invisible 2
WINDOW 3 24 0 Invisible 2
SYMATTR InstName D16
SYMATTR Value 1N4148
SYMBOL LM393A -1680 -80 R0
SYMATTR InstName U6
SYMBOL res -2416 304 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R18
SYMATTR Value 4.7K
SYMBOL LM393A -1680 576 R0
SYMATTR InstName U8
SYMBOL LED -576 -224 R90
WINDOW 0 0 32 Invisible 2
WINDOW 3 72 32 Invisible 2
SYMATTR InstName D35
SYMATTR Value NSPW500BS
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED -576 -144 R90
WINDOW 0 0 32 Invisible 2
WINDOW 3 72 32 Invisible 2
SYMATTR InstName D36
SYMATTR Value NSPW500BS
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED -576 -64 R90
WINDOW 0 0 32 Invisible 2
WINDOW 3 72 32 Invisible 2
SYMATTR InstName D37
SYMATTR Value NSPW500BS
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED -576 16 R90
WINDOW 0 0 32 Invisible 2
WINDOW 3 72 32 Invisible 2
SYMATTR InstName D38
SYMATTR Value NSPW500BS
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL LED -576 96 R90
WINDOW 0 0 32 Invisible 2
WINDOW 3 72 32 Invisible 2
SYMATTR InstName D39
SYMATTR Value NSPW500BS
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -480 -224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 4.7K
SYMBOL res -480 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R29
SYMATTR Value 4.7K
SYMBOL res -480 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R30
SYMATTR Value 4.7K
SYMBOL res -480 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R31
SYMATTR Value 4.7K
SYMBOL res -480 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R32
SYMATTR Value 4.7K
SYMBOL res -1696 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 4.7K
SYMBOL voltage 1472 992 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -39 92 VBottom 2
SYMATTR InstName V5
SYMATTR Value {photo_r}
SYMBOL res 912 192 R0
SYMATTR InstName R1
SYMATTR Value 4.7K
SYMBOL res 1536 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 4.7K
SYMBOL res 1536 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 4.7K
SYMBOL diode 1584 80 R90
WINDOW 0 0 32 Invisible 2
WINDOW 3 32 32 Invisible 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 1584 528 R90
WINDOW 0 0 32 Invisible 2
WINDOW 3 32 32 Invisible 2
SYMATTR InstName D15
SYMATTR Value 1N4148
SYMBOL res 1072 416 R0
SYMATTR InstName R8
SYMATTR Value 4.7K
SYMBOL res 2160 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 4.7K
SYMBOL res 1056 -112 R0
SYMATTR InstName R10
SYMATTR Value 4.7K
SYMBOL res 1216 128 R0
SYMATTR InstName R11
SYMATTR Value 4.7K
SYMBOL diode 1104 80 R270
WINDOW 0 32 32 Invisible 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D18
SYMATTR Value 1N4148
SYMBOL diode 1248 144 R180
WINDOW 0 24 64 Invisible 2
WINDOW 3 24 0 Invisible 2
SYMATTR InstName D19
SYMATTR Value 1N4148
SYMBOL res 1376 48 R0
SYMATTR InstName R12
SYMATTR Value 47K
SYMBOL res 2288 480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 4.7K
SYMBOL sw 1824 1072 R180
WINDOW 3 46 49 Left 2
WINDOW 0 -65 -26 Left 2
SYMATTR Value switch
SYMATTR InstName SW1
SYMBOL voltage 1856 992 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -39 92 VBottom 2
SYMATTR InstName V7
SYMATTR Value {photo_f}
SYMBOL voltage 2096 992 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -39 92 VBottom 2
SYMATTR InstName V8
SYMATTR Value {r_val}
SYMBOL polcap 2480 768 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C11
SYMATTR Value 100µ
SYMATTR SpiceLine V=25 Irms=520m Rser=0.087 Lser=27.6n
SYMBOL voltage 2448 912 R0
WINDOW 0 -32 56 VBottom 2
WINDOW 3 46 74 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value PWL(0 5 0.2 5 0.3 0)
SYMBOL diode 2384 896 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D20
SYMATTR Value 1N4148
SYMBOL res 2592 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 4.7K
SYMBOL nmos 2368 560 R0
SYMATTR InstName M1
SYMATTR Value AO6408
SYMBOL res 2352 656 R0
SYMATTR InstName R21
SYMATTR Value 47K
TEXT 360 704 Left 2 !.tran 0 60 0 1 uic\n.step param index list 0 1\n.param r_val = table(index,0,0,1,5,2,0,3,5,4,0,5,5,6,0,7,5)\n.param photo_r = table(index,0,0,1,0,2,5,3,5,4,0,5,0,6,5,7,5)\n.param photo_f = table(index,0,0,1,0,2,0,3,0,4,5,5,5,6,5,7,5)\n \n \n.options reltol=0.01 abstol=1n chgtol=1p\n.options gmin=1n cshunt=1p\n.options itl1=500 itl2=5000 itl4=100\n \n.include cd4000.lib\n.include 74hc.lib\n \n.model switch SW(ron=0.01 roff=1MEG vt=4.9 vh=0)
TEXT -1504 880 Left 2 ;R / Trigger BIT is the 5th Bit with Count of 32 \nRESET will happen at 6th BIT so the TRIGGER will \nremain ON for another 32 counts or 16 hours
TEXT -1072 752 Left 2 ;RESET is always ONE BIT \nahead of the R/TRIGGER BIT
TEXT -1136 288 Left 2 ;Clock Output will remain low \nmost of the time so no need for \na pull down
TEXT -344 -544 Left 2 ;"R" signal at its lowest is 700mV and its highest is 5V\nfor Forward Rotation, when R is LOW(700mv) the NEG TERM \nof comparator is 2.5V which makes Forward Rotation turn on \nwhen PhotoTransistor turns on then NEG is at Ground(0v) and R\ncould be at LOW(700mV) or HIGH(5V) either ways the Forward Rotation\nremains OFF.
RECTANGLE Normal -304 1136 -2864 -624 2
